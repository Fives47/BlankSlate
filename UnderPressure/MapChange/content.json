{
  "Format": "2.3.0",
  "CustomLocations": [
    {
      "Name": "Charlie.Underpressure_LobbyRoom",
      "FromMapFile": "assets/Lobby.tmx"
    }
  ],
  "Changes": [
    {
      "Action": "Load",
      "Target": "Maps/Forest",
      "FromFile": "assets/Forest.tmx"
    },
    {
      "Action": "EditMap",
      "Target": "Maps/Charlie.Underpressure_LobbyRoom",
      "AddWarps": [
        "14 27 Forest 119 93"
      ]
    },
    {
      "Action": "EditMap",
      "Target": "Maps/Forest",
      "AddWarps": [
        "118 89 Charlie.Underpressure_LobbyRoom 14 25"
      ]
    },
    {
      "Action": "EditMap",
      "Target": "Maps/Charlie.Underpressure_LobbyRoom",
      "MapTiles": [
        {
          "Position": {
            "X": 5,
            "Y": 7
          },
          "Layer": "Buildings",
          "SetProperties": {
            "Action": "Mine"
          }
        }
      ]
    },
    {
      "Action": "Load",
      "Target": "Characters/{{ModId}}_Dobson",
      "FromFile": "assets/Miner.png"
    },
    {
      "Action": "Load",
      "Target": "Portraits/{{ModId}}_Dobson",
      "FromFile": "assets/dobsprites.png"
    },
    {
      "Action": "Load",
      "Target": "Characters/Dialogue/{{ModId}}_Dobson",
      "FromFile": "assets/dobdialogue.json"
    },
    {
      "Action": "Load",
      "Target": "Characters/schedules/{{ModId}}_Dobson",
      "FromFile": "assets/dobschedule.json"
    },
    {
      "Action": "EditData",
      "Target": "Data/Characters",
      "Entries": {
        "{{ModId}}_Dobson": {
          "DisplayName": "Dobson",
          "BirthSeason": "Summer",
          "BirthDay": 7,
          "HomeRegion": "Town",
          "Gender": "Male",
          "Age": "Adult",
          "Manner": "Rude",
          "SocialAnxiety": "Neutral",
          "Optimism": "Positive",

          "CanBeRomanced": false,

          "Home": [
            {
              "Id": "Default",
              "Location": "Charlie.Underpressure_LobbyRoom",
              "Tile": {
                "X": 8,
                "Y": 6
              }
            }
          ]
        }
      }
    },
    {
      "Action": "EditData",
      "Target": "Data/NPCGiftTastes",
      "Entries": {
        "{{ModId}}_Dobson": "You're giving this to me? This is amazing!/207 232 233 400/Thank you! This is a very interesting specimen./-5 -79 422/...What is this?/80 330/This is disgusting./2/That was very thoughtful of you./-4/ "
      }
    },
    {
      "Action": "Load",
      "Target": "Data/Quests",
      "FromFile": "assets/Quests.json"
    },
    {
      "Action": "EditData",
      "Target": "Data/TriggerActions",
      "Entries": {
        "{{ModId}}_TestTest": {
          "Id": "{{ModId}}_TestTest",
          "Trigger": "DayStarted",
          "Actions": [
            "AddQuest 201"
          ]
        }
      }
    },
    //the item!
    {
      "Action": "Load",
      "Target": "Objects/{{ModId}}_EarthShard",
      "FromFile": "assets/Earth_Shard.png"
    },
    {
      "Action": "EditData",
      "Target": "Data/Objects",
      "Entries": {
        "{{ModId}}_EarthShard": {
          "Name": "{{ModId}}_EarthShard",
          "Displayname": "Earth Shard",
          "Description": "A piece of an earth Junimo, imbued with life energy.",
          "Type": "Basic",
          "Category": -28,
          "Price": 5000,

          "Texture": "Objects/{{ModId}}_EarthShard"
        }
      }
    },

    //the machine and the reward
    //(we'll have a machine that makes the sprinkler using the shards)
    //(because we don't know how to use them and extract their power ourselves)

    {
      "Action": "Load",
      "Target": "Objects/{{ModId}}_LifeSprinkler",
      "FromFile": "assets/Earth_Shard.png" //using the earth shard as a placeholder
    },
    {
      "Action": "Load",
      "Target": "BigCraftables/{{ModId}}_EarthShardMachine", //name pending
      "FromFile": "assets/Earth_Shard.png" //using the earth shard as a placeholder
    },
    {
      "Action": "Load",
      "Target": "Machines/{{ModId}}_EarthShardMachine",
      "FromFile": "assets/Earth_Shard.png" //using the earth shard as a placeholder
    },

    //SPRINKLER FUNCTIONALITY (not yet in): 
    //allows crops in a radius around it to grow regardless of the weather condition, letting them grow in winter
    //that sounds like it could be as easy as unchecking a flag or smth
    //i'll look into how the sprinkler works and try and reverse engineer that when i get around to it
    //making it upgradeable could be a stretch goal
    {
      "Action": "EditData",
      "Target": "Data/Objects",
      "Entries": {
        "{{ModId}}_LifeSprinkler": {
          "Name": "{{ModId}}_LifeSprinkler",
          "DisplayName": "Life Sprinkler",
          "Description": "A sprinkler surging with life energy, allowing crops in its radius to grow in all weather.",
          "Type": "Crafting",
          "Category": -8
        }
      }
    },

    {
      "Action": "EditData",
      "Target": "Data/BigCraftables",
      "Entries": {
        "{{ModId}}_EarthShardMachine": {
          "Name": "{{ModId}}_EarthShardMachine",
          "Displayname": "Earth Shard Machine",
          "Description": "A machine capable of utilizing the life energy in earth shards.",
          "IsLamp": "True"
        }
      }
    },

    {
      "Action": "EditData",
      "Target": "Data/Machines",
      "Entries": {
        "(BC){{ModId}}_EarthShardMachine": {
          "OutputRules": [
            {
              "Id": "{{ModId}}_MakeLifeSprinkler",
              "Triggers": [
                {
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": "{{ModId}}_EarthShard",
                  "RequiredCount": 300
                }
              ],
              "LightWhileWorking": {
                "Radius": "1",
                "Color": "Green"
              },
              "OutputItem": [
                {
                  "ItemId": "{{ModId}}_LifeSprinkler"
                }
              ]
            }
          ]
        }
      }
    }
  ]
}